function dragUp(t){event=t;var e=!1;null==gripStartY&&(gripStartY=$(".content")[0].getBoundingClientRect().top),null==startDrag&&(startDrag=t.touches[0].clientY,e=!0);var n=gripStartY-startDrag,a=gripStartY-t.touches[0].clientY;a=gripStartY==ylocation?ylocation-t.touches[0].clientY<=0?(0-a+n)/3:(0-a+n)/1.2:(0-a)/1.5,gripStartY==ylocation?ylocation-t.touches[0].clientY<=0&&($(".background .layer1").css({WebkitFilter:"contrast(1.2) grayscale(1) blur("+a/3+"px)"}),0<a&&$(".background .layer1").css({transform:"scale("+(1+a/100/2)+")"})):($(".background .layer1").css({WebkitFilter:"contrast(1.2) grayscale(1) blur("+a/5/3+"px)"}),$(".background .layer1").css({transform:"scale("+(1+a/5/100/2)+")"})),e?$(".content").animate({marginTop:gripStartY-ylocation+a-10+"px"},50):$(".content").css("margin-top",gripStartY-ylocation+a-10+"px");var r=(event.touches[0].pageY-ylocation)/((.75*ylocation-120)/.75);console.log(1- -r+0),$(".favorites").css("opacity",1- -r+0),$(".frame").css("opacity",-r-1)}function detect(){var t=parseFloat($(".background .layer1").css("filter").replace("contrast(1.2) grayscale(1) blur(","").replace("px)",""));$({blurRadius:t}).animate({blurRadius:0},{duration:500,easing:"swing",step:function(){$(".background .layer1").css({WebkitFilter:"contrast(1.2) grayscale(1) blur("+this.blurRadius+"px)"})},complete:function(){$(".background .layer1").css({WebkitFilter:"contrast(1.2) grayscale(1) blur(0px)"})}});var e=parseFloat($(".background .layer1").css("transform").split(",")[3]);$({blurRadius:e}).animate({blurRadius:1},{duration:1e3,easing:"easeOutQuart",step:function(){$(".background .layer1").css({transform:"scale("+this.blurRadius+")"})},complete:function(){$(".background .layer1").css({transform:"scale(1)"})}}),gripStartY=startDrag=null;$(".content").css("margin-top").replace("px","");event.touches[0].pageY<=100?content.up():content.down()}function slideshow(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.fadeOut=function(){return new Promise(function(t){$(".layer1").fadeOut(2e3),setTimeout(function(){t("1")},2e3)})},this.fadeIn=function(){return new Promise(function(t){$(".layer1").fadeIn(2e3),setTimeout(function(){t()},2e3)})},[4,this.fadeOut()];case 1:switch(t.sent(),currentSlide){case 1:case 2:case 3:case 4:currentSlide++;break;case 5:currentSlide=1}return $(".layer1 .pic").each(function(){$(this).hide()}),$(".layer1 .pic:nth-child("+currentSlide+")").show(),[4,this.fadeIn()];case 2:return t.sent(),[2]}})})}var event,__awaiter=this&&this.__awaiter||function(o,c,i,s){return new(i||(i=Promise))(function(t,e){function n(t){try{r(s.next(t))}catch(t){e(t)}}function a(t){try{r(s.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new i(function(t){t(e.value)}).then(n,a)}r((s=s.apply(o,c||[])).next())})},__generator=this&&this.__generator||function(n,a){function t(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,o&&(c=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(c=c.call(o,e[1])).done)return c;switch(o=0,c&&(e=[0,c.value]),e[0]){case 0:case 1:c=e;break;case 4:return i.label++,{value:e[1],done:!1};case 5:i.label++,o=e[1],e=[0];continue;case 7:e=i.ops.pop(),i.trys.pop();continue;default:if(!(c=0<(c=i.trys).length&&c[c.length-1])&&(6===e[0]||2===e[0])){i=0;continue}if(3===e[0]&&(!c||e[1]>c[0]&&e[1]<c[3])){i.label=e[1];break}if(6===e[0]&&i.label<c[1]){i.label=c[1],c=e;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(e);break}c[2]&&i.ops.pop(),i.trys.pop();continue}e=a.call(n,i)}catch(t){e=[6,t],o=0}finally{r=c=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}var r,o,c,e,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e},gripStartY=null,startDrag=null,ylocation=$(".content")[0].getBoundingClientRect().top,currentSlide=1;$(".grip").on("touchmove",function(t){dragUp(t)}),$(".grip").on("touchend",function(){detect()}),$(".layer1 .pic").each(function(t){$(this).css("background-image","url(assets/imgs/"+(t+1)+".jpg)")}),setInterval(function(){slideshow()},14e3);var content={up:function(){$(".content").data("show","true"),$(".content").animate({marginTop:50-ylocation+"px"},100,"easeOutCirc"),$(".overlay").addClass("show"),$(".overlay").animate({opacity:1},250),$(".favorites").css("opacity",0),$(".frame").css("opacity",1)},down:function(){$(".content").data("show","false"),$(".content").animate({marginTop:"-10px"},200,"easeOutBack"),$(".overlay").animate({opacity:0},200,function(){$(".overlay").removeClass("show")}),$(".favorites").css("opacity",1),$(".frame").css("opacity",0)}};$(".overlay").click(function(){content.down()});